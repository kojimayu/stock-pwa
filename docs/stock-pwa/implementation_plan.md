# 入荷訂正・取消機能の実装

## 実装の目的
発注管理機能において、「間違えて入荷完了にしてしまった」「数量を間違えて登録した」というミスに対応するため、入荷処理の**取消（Undo）機能**を実装します。

## ユーザー確認事項
- 「入荷取消」を行うと、**以下の処理が一括で行われます**。
    - 発注ステータスが「入荷完了」から「一部入荷」または「下書き（発注済）」に戻ります。
    - 商品の在庫数が自動的に減算されます（入荷前の状態に戻る）。
    - 取引履歴（InventoryLog）に「取消」の記録が残ります。

## 変更内容詳細

### サーバーサイド (actions.ts)
#### [NEW] `cancelReceipt` アクション
- **引数**: OrderItemID, Quantity (取消数量)
- **処理**:
    1. 対象のOrderItemを取得し、`receivedQuantity` が十分にあるか確認。
    2. `OrderItem` の `receivedQuantity` を減算し、`isReceived` フラグを false に戻す。
    3. `Product` の在庫数 (`stock`) を減算する。
    4. `Order` のステータスを再評価して更新する（全完了でなくなれば `PARTIAL` に戻す）。
    5. `InventoryLog` に取消ログ（タイプ: `CORRECTION` または `UNDO_RECEIPT`）を記録する。

### フロントエンド (order-detail.tsx)
- 入荷済みの行リストに「取消」ボタン（または「修正」アイコン）を追加します。
- クリックすると確認ダイアログが表示され、実行すると入荷処理が取り消されます。

## 検証計画
1.  **通常入荷**: 10個発注→10個入荷（在庫+10）
2.  **取消実行**: 取消ボタン押下（在庫-10）
3.  **確認**:
    - 在庫が元の数に戻っていること
    - ステータスが「入荷完了」から戻っていること
    - 再度入荷操作が可能になっていること
